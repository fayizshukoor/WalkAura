<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>WalkAura</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1"
    rel="stylesheet"
  />

  <link rel="shortcut icon" href="/img/walkAura new.png" type="image/x-icon">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#4F46E5",
            "background-light": "#f6f6f8",
            "background-dark": "#121121",
          },
          fontFamily: {
            display: "Manrope",
          },
          borderRadius: {
            DEFAULT: "0.25rem",
            lg: "0.5rem",
            xl: "0.75rem",
            full: "9999px",
          },
        },
      },
    };
  </script>

  <!-- Scrollbar -->
  <style>
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #101422;
    }
    ::-webkit-scrollbar-thumb {
      background: #282c39;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #3f4454;
    } 
  </style>



</head>

<body
  class="text-white font-display min-h-screen flex flex-col overflow-x-hidden selection:bg-primary selection:text-white"
  style="background-color: #07090f;"
>

  <!-- Spinner-->
   <%- include("../partials/spinner") %>
   
  <!-- Navbar -->
   <% if (!locals.hideHeader) { %>
      <%- include("../partials/navbar") %>
    <% } %>

  <!-- Page Content -->
  <%- body %>

<!-- Footer-->
<%- include("../partials/footer") %>


<!-- Logout Confirmation Modal -->
<div
  id="logoutModal"
  class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60"
>
  <div
    class="w-full max-w-sm rounded-xl bg-[#0b0c10] border border-gray-700 shadow-xl p-6 text-center"
  >
    <h2 class="text-xl font-semibold text-white mb-2">
      Confirm Logout
    </h2>

    <p class="text-gray-400 mb-6">
      Are you sure you want to log out?
    </p>

    <div class="flex justify-center gap-4">
      <button
        id="cancelLogout"
        class="px-4 py-2 rounded-lg bg-gray-700 text-white hover:bg-gray-600 transition"
      >
        Cancel
      </button>

      <a
        href="/logout"
        class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-500 transition"
      >
        Logout
      </a>
    </div>
  </div>
</div>


<script>
  const modal = document.getElementById("logoutModal");
  const cancelBtn = document.getElementById("cancelLogout");

  document.addEventListener("click", (e) => {
    const logoutBtn = e.target.closest("[data-logout-btn]");

    if (logoutBtn) {
      e.preventDefault();
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    }

    if (e.target === modal || e.target === cancelBtn) {
      modal.classList.add("hidden");
      modal.classList.remove("flex");
    }
  });

  // additional safety if loaded from bfcache
        window.addEventListener("pageshow", function (event) {
    if (event.persisted) {
      window.location.reload();
    }
  });
</script>


</body>
</html>
